import { epilot } from './epilot';
import { logger } from './utils';

export const init = () => {
  // make epilot object available in global
  if (window && !('epilot' in window)) {
    Object.assign(window, { epilot });
  }

  epilot.sendMessageToParent('app-bridge:init', {
    contentHeight: document.body.scrollHeight,
  });

  logger.info(
    `
                %c█████████████████                
             ██████████████████████              
           ███████████████████████████           
          █████████████████████████████          
         ███████████████████████████████         
          █████          ███████████████         
                            █████████████        
          ████████            ████████████       
      █████████████             ██████████       
    █████████████               █████████        
  █████████████                   ███████        
 ████████████                     ██████  █████  
████████████                      ██████  ██████ 
███████████                               ███████
███████████                               ███████
███████████                             █████████
███████████                             █████████
███████████                           ███████████
███████████        ███              █████████████
████████████      ███████████████████████████████
█████████████     ██████████████████████████████ 
  █████████████    ████████████████████████████  
   ██████████████    ████████████████████████    
      █████████████    ████████████████████      
          █████████        ███████████           
                                                           

                    %cepilot
                   App Bridge
              ©️ 2025 epilot.cloud
                                                  
  `,
    'color:#005EB4;font-weight:bold;',
    'font-weight:bold;',
    'font-weight:normal',
  );
};

export { epilot };
